---
layout: post
title:  Установка разных версий Windows с одной флешки
date:   2019-02-04 16:26:28 +0600
categories: Windows flash
---
Пробовал разные способы пришел к следующему:

1. На флешке 4 раздела. 
1-й - всякое, linux и прочие полезности.
2-й - win7 - сюда слил содержание iso
3-й - win8 - сюда слил содержание iso

Можно и в один раздел положить просто iso c ОС-ями, но фс раздела должна
разрешать файлы больше 2-х Гб.
>Подозреваю и с 10-й такой фокус пройдет.
>
>Т.к. сам не пользуюсь не знаю...


На винте делаем основной (чтобы с него загрузиться) раздел 
приблизительно 5Гб. И в него копируем содержимое нужного образа.
После установки этот раздел будет скрытым и появится возможность
загрузившись с него восстановить\переустановить систему.
ФС - ? Делал FAT32, не помню почему, но NTFS тоже должно подойти.

Делаем этот раздел загрузочным.

Перезагружаемся и загрузка начнется с этого раздела.
Тем самым будут исключены ошибки типа 
"не нашлись дрова на HDD, CD-ROM, SATA-IDE контроллер".

При установке, естественно, выбирай место отличное от "нашего" раздела.
======================================================================

Теперь полробности.

Гружусь Linux-LiveCD
Копирую содержимое раздела или iso (обычно монтирование возможно "из коробки"). 

1. Тип разбивки на разделы MBR или GPT.
Если MBR можно воспользоваться linux fdisk.
?Если GPT - gparted? не пробовал, но что-то же должно быть для gpt.

Еще на флешке есть возможность загрузить виндовый инсталлятор.
Shift-F10 даст терминал
DISKPART - поможет.

Вот, пример:

list disk
select disk 2
clean
convert mbr
create part pre size=5000
list part
select part 1
active

список дисков, выбрали 2-й, очистили (если был gpt, видимо, только так),
создали mbr и основной раздел 5Гб, сделали его загрузочным.
такой способ создаст загрузочный сектор, который ищет в корне bootmgr.




